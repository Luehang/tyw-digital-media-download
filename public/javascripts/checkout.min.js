"use strict";function showTab(e){var t=document.getElementsByClassName("tab");t[e].style.display="block",0==e?(document.getElementById("prevBtn").style.display="none",document.getElementById("nextBtn").style.display="block"):document.getElementById("prevBtn").style.display="block",e==t.length-1&&(document.getElementById("nextBtn").style.display="none"),fixStepIndicator(e)}function nextPrev(e){var t=document.getElementsByClassName("tab");if(1==e&&!validateForm())return!1;t[currentTab].style.display="none",showTab(currentTab+=e)}function validateEmail(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.toLowerCase())}function validateForm(){var e=document.getElementById("name").value,t=document.getElementById("email").value,a=[],r="";return""===e&&a.push("Name field needs to be filled out."),!1===validateEmail(t)&&a.push("Invalid email address."),0===a.length||(a.map(function(e){r+='<p style="color: red;">* '+e+"</p>"}),$alert.html(r),$annotation.css("display","block"),!1)}function fixStepIndicator(e){var t,a=document.getElementsByClassName("step");for(t=0;t<a.length;t++)a[t].className=a[t].className.replace(" active","");a[e].className+=" active"}Stripe.setPublishableKey("pk_test_AhDwyxYOzXzwi6Nbo7fQrZXY");var $number=$("#card-number"),$numberRow=$("#card-number-row"),$cvc=$("#card-cvc"),$cvcRow=$("#card-cvc-row"),$expMonth=$("#card-expiry-month"),$expMonthRow=$("#card-expiry-month-row"),$expYear=$("#card-expiry-year"),$expYearRow=$("#card-expiry-year-row"),$cardName=$("#card-name"),$form=$("#checkout-form"),$annotation=$("#front-annotation"),$alert=$("#alert"),$priceTag=$("#price-tag").html(),currentTab=0;showTab(currentTab),paypal.Button.render({env:"sandbox",client:{sandbox:"AYT7sl3IntKyUbd2kEc4KKOVzeIKRuKUUAEhqhfFfTYXghU05iP6rmYbSD0HpS0cvF7hSAJdmi0gDEPy",production:"<insert production client id>"},commit:!0,style:{label:"paypal",size:"responsive",shape:"rect",color:"gold",tagline:!1},payment:function(e,t){if(validateOnButtonClick(),pass)return t.payment.create({payment:{transactions:[{amount:{total:$priceTag,currency:"USD"}}]}})},onAuthorize:function(e,t){return t.payment.execute().then(function(){$form.submit()})}},"#paypal-button"),$(document).ready(function(){function e(e,t){if(t.error)$alert.html('<p style="color: red;">* '+t.error.message+"</p>"),$annotation.css("display","block"),$form.find("#submit-button").prop("disabled",!1);else{var a=t.id;$form.append($('<input type="hidden" name="stripeToken" />').val(a)),$form.get(0).submit()}}$form.find("#submit-button").prop("disabled",!0);setInterval(function(){""!==$number.val()&&(Stripe.card.validateCardNumber($number.val())?($number.css("background-color","white"),$numberRow.css("background-color","white")):($number.css("background-color","#EF3838"),$numberRow.css("background-color","#EF3838"))),""!==$expMonth.val()&&""!==$expYear.val()&&(Stripe.card.validateExpiry($expMonth.val(),$expYear.val())?($expMonth.css("background-color","white"),$expMonthRow.css("background-color","white"),$expYear.css("background-color","white"),$expYearRow.css("background-color","white")):($expMonth.css("background-color","#EF3838"),$expMonthRow.css("background-color","#EF3838"),$expYear.css("background-color","#EF3838"),$expYearRow.css("background-color","#EF3838"))),""!==$cvc.val()&&(Stripe.card.validateCVC($cvc.val())?($cvc.css("background-color","white"),$cvcRow.css("background-color","white")):($cvc.css("background-color","#EF3838"),$cvcRow.css("background-color","#EF3838"))),Stripe.card.validateCardNumber($number.val())&&Stripe.card.validateExpiry($expMonth.val(),$expYear.val())&&Stripe.card.validateCVC($cvc.val())&&""!==$cardName.val()&&$form.find("#submit-button").prop("disabled",!1)},100);$form.find(".submit-button").click(function(){$form.submit()}),$form.submit(function(t){return $annotation.css("display","none"),$form.find("#submit-button").prop("disabled",!0),Stripe.card.createToken({number:$number.val(),cvc:$cvc.val(),exp_month:$expMonth.val(),exp_year:$expYear.val(),name:$cardName.val()},e),!1})});